_config:
  _metadata:
    description: logging-eventer
    name: logging-eventer
    namespace: kube-system
    template:
      type: template.caicloud.io/application
      version: 1.0.0
    version: "v0.1.5"
  controllers:
  - containers:
    - command:
      - /eventer
      - --v=3
      image: '[[ registry_release ]]/eventer:v0.1.5'
      imagePullPolicy: IfNotPresent
      env:
      - name: CLUSTER_NAME
        from:
          type: Config
          name: cluster-info
          key: name
      mounts:
      - name: output-config
        path: /config
      ports:
      - port: 8084
        protocol: TCP
      resources:
        limits:
          cpu: 100m
          memory: 128Mi
        requests:
          cpu: 25m
          memory: 64Mi
    controller:
      replica: 1
    services:
    - annotations:
      - key: prometheus.io/port
        value: '8084'
      - key: prometheus.io/scrape
        value: 'true'
      name: eventer
      ports:
      - port: 8084
        protocol: TCP
        targetPort: 8084
      type: ClusterIP
    type: Deployment
    volumes:
    - name: output-config
      source:
        target: filebeat-output
        optional: true
      type: Config
