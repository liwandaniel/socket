metadata:
  name: cd-manager
  alias: 持续部署
spec:
  class: cd-manager
  version: v0.3.0-beta
  compassRequirement: ">=v2.7.3"
  description: 持续部署
  note: 持续部署
  author: caicloud.io
  service:
    port: 8080
    image: cargo-infra.caicloud.xyz/devops_release/compass-plugins-cd-manager:v0.3.0-beta
    configs:
      envs:
      - name: SERVER_MONGO_HOST
        value: 'mongodb://infra-mongo-mongo-v1-0-0.mgo-cluster,infra-mongo-mongo-v1-0-1.mgo-cluster,infra-mongo-mongo-v1-0-2.mgo-cluster'
      - name: SERVER_CLUSTER_ADMIN_SERVER
        value: 'cds-server:9000'
      - name: SERVER_WEB_RESOURCE_PATH
        value: '/caicloud/compass-plugins/static-resources'
      files: []
    security:
      privileged: false
      clusterAccessible: true
      apiAccessible: true
    resources:
      limits:
        cpu: '0.5'
        memory: 512Mi
      requests:
        cpu: '0.1'
        memory: 512Mi
  modules:
  - name: cd-manager
    alias:
      zh: 持续部署
      en: cd-manager
    icon: '/src/img/icon.svg'
    sources:
    - "/src/index.js"
    slots:
    # Enable `user.plugin_center` and `system.plugin_center` for both system tenant and user tenant.
    - user.plugin_center
    - system.plugin_center
