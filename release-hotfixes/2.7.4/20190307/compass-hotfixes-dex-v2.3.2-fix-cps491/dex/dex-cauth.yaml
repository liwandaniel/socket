_config:
  _metadata:
    description: cauth
    name: dex-cauth
    namespace: default
    template:
      type: template.caicloud.io/application
      version: 1.0.0
    version: "v2.3.2"
  controllers:
  - containers:
    - args:
      - --finalizer-config-path=/app/etc/finalizer/finalizer.yaml
      env:
      - name: ENABLE_HOOK
        value: 'true'
      - name: MONGO_ADDR
        value: '[[ platform_mongo_host ]]'
      - name: SKIP_VERIFY_EMAIL
        value: 'true'
      - name: SMTP_SERVER
        value: ""
      - name: SMTP_PORT
        value: ""
      - name: ENABLE_SMTP_SSL
        value: 'true'
      - name: SMTP_USER
        value: ""
      - name: SMTP_PASSWORD
        value: ""
      - name: MULTI_TENANT
        from:
          type: Config
          name: platform-config
          key: "tenantMode"
      image: '[[ registry_release ]]/cauth:v2.3.2'
      imagePullPolicy: IfNotPresent
      name: cauth
      resources:
        limits:
          cpu: 500m
          memory: 500Mi
        requests:
          cpu: 200m
          memory: 200Mi
    controller:
      replica: 1
    services:
    - name: dex-cauth
      ports:
      - port: 8080
        protocol: TCP
        targetPort: 8080
      type: ClusterIP
    type: Deployment
